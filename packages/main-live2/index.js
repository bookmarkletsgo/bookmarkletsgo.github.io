(function(a,b,c){'use strict';function d(b,d){var e=!1,f=null,g=Math.random();a[g]=function(){e=!0},b="window["+g+"]();"+b;try{new Function(b)()}catch(a){console.error(a),f=a}c(function(){delete a[g],"function"==typeof d&&d(f,e)})}var e=Function,f=e.bind.bind(e.call),g=[].includes?f([].includes):function(b,a){return 0<=b.indexOf(a)},h=function(a,b,c,d){if(a)return a.addEventListener(b,c,d||!1),function(){a.removeEventListener(b,c,d||!1)}},i=function(){return"documentMode"in b},j=function(){return b.documentMode||-1},k=function(){return"?i="+Math.floor(new Date().getTime()/36e5)},l=function(a){try{return"string"==typeof a?JSON.parse(a):Object(a)}catch(a){return{}}},m="https://bookmarkletsgo.github.io",n="bookmarkletsgo",o="__BOOKMARKLETSGO",p="origin",q=9===j()?function(a,b){b.from=n,a.postMessage(JSON.stringify(b),"*")}:function(a,b){b.from=n,a.postMessage(b,"*")},r=function(a,b){return h(a,"message",function(c){console.debug(c);var d=l(c.data),e=c[p],f=c.source;console.info(JSON.stringify({origin:e,from:d.from,type:d.type,content:(d.content+"").slice(0,30)})),d.from===n&&(e===m||e===a.location[p]||e===a[p]||"about:"===e||f===a.top||a.opener&&(f===a.opener||f===a.opener.top))&&b(d,c)})};if(i()&&10>j())alert("Do not support this browser, please update your browser.");else{var s=a[o]||{};a[o]=s;var t=r(a,function(a){"script"===a.type?(!s["initialized"]&&d(a.content,function(a){a&&alert("Do not support this site due to Content Security Policy.\nDrag and drop bookmarklets to the 'Bookmarks Bar' of your browser.")}),t(),v&&v.close()):"opened_window_loaded"===a.content&&v&&q(v,{type:"get_script",content:"main"})}),u=m+"/bookmarklets.html"+k();a.name===n&&(a.name=null);var v=a.open(u,n);v||alert("Please allow \"Open Pop-up Windows\" on this site and try again.")}})(window,document,setTimeout);